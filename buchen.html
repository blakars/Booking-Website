<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Bootstrap: Latest compiled and minified CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!--jQuery library-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--Bootstrap: Popper JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!--Bootstrap: Latest compiled JavaScript-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!--Montserrat-Schrift importieren-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <!--Eigener JS-File-->
    <script src="lib/js1.js"></script>
    <!--Eigener CSS-File-->
    <link rel="stylesheet" type="text/css" href="lib/css1.css">

    <title>hafen albstadt-sigmaringen</title>
  </head>
  <body>
      <nav class="navbar navbar-expand-sm fixed-top bg-1 navbar-dark">
            <a class="navbar-brand" href="index.html">hafen albsig</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar"">
               <span class="navbar-toggler-icon"></span>
            </button>
           
           <div class="collapse navbar-collapse" id="collapsibleNavbar">
               <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">home</a>
                    </li>
                    <li class="nav-item">
                       <a class="nav-link" href="hafen.html">hafen</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="betreiber.html">betreiber</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link  active-page" href="buchen.html">buchen</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="admin.html">admin</a>
                    </li>
               </ul>
           </div>
        </nav>
        <main>
            <section class="container-fluid bg-2">            
                <div class="row">
                    <div class="col-md">
                        <p class="margin"></p>
                        <h3 class="margin">deinen liegeplatz</h3>
                        <p class="margin">Landstrom, WLAN, alles was das Herz begehrt! </p>
                        <img src="lib/brief-quadrat.jpg" class="img-fluid rounded-circle" alt="buchen">
                    </div>
                    <div class="col-md">
                        <p class="margin"></p>
                        <h3 class="margin align-left">... jetzt bequem online buchen!</h3>
                        <p class="margin inhalt">Wir brauchen nur noch ein paar Informationen von dir.</p>
                        <form class="was-validated">
                            <div class="row">
                                <div class="col-md">
                                    <label for="nachname" class="float-left">Nachname:</label>
                                    <input type="text" class="form-control " id="nachname" placeholder="Nachname eingeben" name="nachname" required>
                                    <p></p>                     
                                </div>
                                <div class="col-md">
                                    <label for="vorname" class="float-left">Vorname:</label>
                                    <input type="text" class="form-control" id="vorname" placeholder="Vorname eingeben" name="vorname" required>
                                    <p></p> 
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md">
                                    <label for="email" class="float-left">Email:</label>
                                    <input type="text" class="form-control " id="email" placeholder="Email eingeben" name="email" required>
                                    <p></p>                     
                                </div>
                                <div class="col-md">
                                    <label for="handynr" class="float-left">Handynummer:</label>
                                    <input type="text" class="form-control" id="handynr" placeholder="Handynummer eingeben" name="handynr" required>
                                    <p></p> 
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md">
                                    <label for="beginn" class="float-left">Beginn:</label>
                                    <input type="date" class="form-control " id="beginn" name="beginn" required>
                                    <p></p> 
                                </div>
                                <div class="col-md">
                                    <label for="ende" class="float-left">Ende:</label>
                                    <input type="date" class="form-control " id="ende" name="ende" required>
                                    <p></p> 
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md">
                                    <label for ="bootslaenge" class="float-left">Bootslänge:</label>
                                    <select id="bootslaenge" name="bootslaenge" class="form-control" required>
                                        <option value="lt5">bis 5m</option>
                                        <option value="5to10">5 bis 10m</option>
                                        <option value="gt10">größer als 10m</option>
                                    </select>
                                    <p></p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md">
                                    <button id="submit" class="btn btn-secondary float-left">Abschicken</button>
                                </div>
                            </div>

                        </form>
                </div>
                
                
            </section>
        </main>
        <footer class="container-fluid bg-3">
            <p>&copy; hafen-albsig2022</p>
        </footer>
        <script>
            $('#submit').click(function() {
            console.log('button submit clicked');
            var result = {};
            $.each($('form').serializeArray(),function() {
                result[this.name]=this.value;
            });
			$.ajax({
                url: 'http://localhost:8000/api/buchungsanfrage',
                method: 'post',
				contentType: 'application/json; charset=utf-8',
                cache: false,
				data: JSON.stringify(result)
            }).done(function (response) {
                console.log(response);
                $('#output').html(JSON.stringify(response));
            }).fail(function (jqXHR, statusText, error) {
                console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
                $('#output').html('Ein Fehler ist aufgetreten');
            });
        });
        </script>

  </body>
</html>
